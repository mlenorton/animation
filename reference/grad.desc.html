<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function provids a visual illustration for the process of minimizing a
real-valued function through Gradient Descent Algorithm."><title>Gradient Descent Algorithm for the 2D case — grad.desc • animation</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Gradient Descent Algorithm for the 2D case — grad.desc"><meta property="og:description" content="This function provids a visual illustration for the process of minimizing a
real-valued function through Gradient Descent Algorithm."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">animation</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.7.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/yihui/animation/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Gradient Descent Algorithm for the 2D case</h1>
      <small class="dont-index">Source: <a href="https://github.com/yihui/animation/blob/HEAD/R/grad.desc.R" class="external-link"><code>R/grad.desc.R</code></a></small>
      <div class="d-none name"><code>grad.desc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function provids a visual illustration for the process of minimizing a
real-valued function through Gradient Descent Algorithm.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">grad.desc</span><span class="op">(</span></span>
<span>  FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">y</span><span class="op">^</span><span class="fl">2</span>,</span>
<span>  rg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="op">-</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  init <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  gamma <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  gr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  len <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  interact <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  col.contour <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>  col.arrow <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>  <span class="va">main</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>FUN</dt>
<dd><p>a bivariate objective function to be minimized (variable names do
not have to be <code>x</code> and <code>y</code>); if the gradient argument <code>gr</code>
is <code>NULL</code>, <code><a href="https://rdrr.io/r/stats/deriv.html" class="external-link">deriv</a></code> will be used to calculate the gradient,
in which case we should not put braces around the function body of
<code>FUN</code> (e.g. the default function is <code>function(x, y) x^2 + 2 *
y^2</code>)</p></dd>


<dt>rg</dt>
<dd><p>ranges for independent variables to plot contours; in a <code>c(x0,
y0, x1, y1)</code> form</p></dd>


<dt>init</dt>
<dd><p>starting values</p></dd>


<dt>gamma</dt>
<dd><p>size of a step</p></dd>


<dt>tol</dt>
<dd><p>tolerance to stop the iterations, i.e. the minimum difference
between \(F(x_i)\) and \(F(x_{i+1})\)</p></dd>


<dt>gr</dt>
<dd><p>the gradient of <code>FUN</code>; it should be a bivariate function to
calculate the gradient (not the negative gradient!) of <code>FUN</code> at a
point \((x,y)\), e.g. <code>function(x, y) 2 * x + 4 * y</code>. If it is
<code>NULL</code>, R will use <code><a href="https://rdrr.io/r/stats/deriv.html" class="external-link">deriv</a></code> to calculate the gradient</p></dd>


<dt>len</dt>
<dd><p>desired length of the independent sequences (to compute z values
for contours)</p></dd>


<dt>interact</dt>
<dd><p>logical; whether choose the starting values by clicking on the
contour plot directly?</p></dd>


<dt>col.contour, col.arrow</dt>
<dd><p>colors for the contour lines and arrows
respectively (default to be red and blue)</p></dd>


<dt>main</dt>
<dd><p>the title of the plot; if missing, it will be derived from
<code>FUN</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing</p>
<dl><dt>par </dt>
<dd><p>the solution for the local minimum</p></dd>

  <dt>value </dt>
<dd><p>the value of the objective function corresponding to
  <code>par</code></p></dd>
 <dt>iter</dt>
<dd><p>the number of iterations; if it is equal to
  <code>ani.options('nmax')</code>, it's quite likely that the solution is not
  reliable because the maximum number of iterations has been reached</p></dd>

  <dt>gradient</dt>
<dd><p>the gradient function of the objective function</p></dd>

  <dt>persp</dt>
<dd><p>a function to make the perspective plot of the objective
  function; can accept further arguments from <code><a href="https://rdrr.io/r/graphics/persp.html" class="external-link">persp</a></code> (see the
  examples below)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Gradient descent is an optimization algorithm. To find a local minimum of a
function using gradient descent, one takes steps proportional to the negative
of the gradient (or the approximate gradient) of the function at the current
point. If instead one takes steps proportional to the gradient, one
approaches a local maximum of that function; the procedure is then known as
gradient ascent.</p>
<p>The arrows are indicating the result of iterations and the process of
minimization; they will go to a local minimum in the end if the maximum
number of iterations <code>ani.options('nmax')</code> has not been reached.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Please make sure the function <code>FUN</code> provided is differentiable at
  <code>init</code>, what's more, it should also be 'differentiable' using
  <code><a href="https://rdrr.io/r/stats/deriv.html" class="external-link">deriv</a></code> if you do not provide the gradient function <code>gr</code>.</p>
<p>If the arrows cannot reach the local minimum, the maximum number of
  iterations <code>nmax</code> in <code><a href="ani.options.html">ani.options</a></code> may need to be
  increased.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Examples at <a href="https://yihui.org/animation/example/grad-desc/" class="external-link">https://yihui.org/animation/example/grad-desc/</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/stats/deriv.html" class="external-link">deriv</a></code>, <code><a href="https://rdrr.io/r/graphics/persp.html" class="external-link">persp</a></code>, <code><a href="https://rdrr.io/r/graphics/contour.html" class="external-link">contour</a></code>,
  <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Yihui Xie</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Yihui Xie.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

